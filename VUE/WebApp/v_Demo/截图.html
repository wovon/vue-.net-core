<!-- <html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>截图</title>
<script src="jquery.js"></script>
</head>
<body>
 <div id="jietuWrap" class="b1" style="display:none;">
		<img id="jietuImg" src="">
		<br />
		<button class="sendBtn" onclick="send_msg()">发送</button>
	</div>
<script>
//绑定粘贴事件 Ctrl+V
bindPaste();
//绑定粘贴事件
function bindPaste(){
	//定义变量存储获取的图片内容
	var blob;
	//获取body对象
	var body = document.getElementsByTagName("body");
	//定义body标签绑定的粘贴事件处理函数
	var fun=function(e){
    var aaa = e.dataTransfer || window.dataTransfer;
		//获取clipboardData对象
		var data=e.clipboardData||window.clipboardData;
    //

    console.log("aaa",aaa);
    console.log("aaa",aaa);
		//获取图片内容
		//console.log(data.items[0]);
    try{
		  blob=data.items[0].getAsFile();
    }catch{
      blob = true;
    }
		//判断是不是图片，最好通过文件类型判断
		var isImg=(blob&&1)||-1;
		var reader=new FileReader();
		if(isImg>=0){
			//将文件读取为 DataURL
			reader.readAsDataURL(blob);
		}
		//文件读取完成时触发
		reader.onload=function(event){
      console.log(event);
			//获取base64流
			var base64_str=event.target.result;
			console.log(base64_str);
			//div中的img标签src属性赋值，可以直接展示图片
			$("#jietuImg").attr("src",base64_str);
			//显示div
			$("#jietuWrap").css("display","block");
			//隐藏输入文字的div
			$("#jietuWrap").next().css("display","none");
		}
	}
	//通过body标签绑定粘贴事件，注意有些标签绑定粘贴事件可能出错
	body[0].removeEventListener('paste',fun);
	body[0].addEventListener('paste',fun);
}
</script>
</body>
</html>
</body>
</html> -->
